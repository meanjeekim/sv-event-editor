(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6982:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>ee});var i=t(5155),n=t(2115),s=t(64),r=t(9434);function o(e){let{className:a,...t}=e;return(0,i.jsx)(s.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",a),...t})}function c(e){let{className:a,...t}=e;return(0,i.jsx)(s.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...t})}function l(e){let{className:a,...t}=e;return(0,i.jsx)(s.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...t})}function m(e){let{className:a,...t}=e;return(0,i.jsx)(s.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",a),...t})}var d=t(968);function u(e){let{className:a,...t}=e;return(0,i.jsx)(d.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...t})}var g=t(4884);function p(e){let{className:a,...t}=e;return(0,i.jsx)(g.bL,{"data-slot":"switch",className:(0,r.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...t,children:(0,i.jsx)(g.zi,{"data-slot":"switch-thumb",className:(0,r.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function h(e){let{className:a,...t}=e;return(0,i.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...t})}function f(e){let{className:a,...t}=e;return(0,i.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-1 rounded-xl border py-2 shadow-sm",a),...t})}function y(e){let{className:a,...t}=e;return(0,i.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...t})}function v(e){let{className:a,...t}=e;return(0,i.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",a),...t})}function x(e){let{className:a,...t}=e;return(0,i.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",a),...t})}var N=t(7655);function b(e){let{className:a,children:t,...n}=e;return(0,i.jsxs)(N.bL,{"data-slot":"scroll-area",className:(0,r.cn)("relative",a),...n,children:[(0,i.jsx)(N.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),(0,i.jsx)(C,{}),(0,i.jsx)(N.OK,{})]})}function C(e){let{className:a,orientation:t="vertical",...n}=e;return(0,i.jsx)(N.VM,{"data-slot":"scroll-area-scrollbar",orientation:t,className:(0,r.cn)("flex touch-none p-px transition-colors select-none","vertical"===t&&"h-full w-2.5 border-l border-l-transparent","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent",a),...n,children:(0,i.jsx)(N.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function w(e){let{className:a,type:t,...n}=e;return(0,i.jsx)("input",{type:t,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...n})}function j(e){let{className:a,type:t,spanOffset:s=0,value:o="",placeholder:c,onChange:l,onBlur:m,...d}=e,u=(0,n.useRef)(null),[g,p]=(0,n.useState)(0),[h,f]=(0,n.useState)(o);return(0,n.useLayoutEffect)(()=>{u.current&&p(u.current.offsetWidth+s+1)},[s,h,c]),(0,i.jsxs)("div",{className:"relative inline-block",children:[(0,i.jsx)("input",{type:t,value:h,placeholder:c,onChange:e=>{f(e.target.value),console.log("handleChange",e.target.value)},onBlur:e=>{l&&(l(e),console.log("handleBlur: onChange",e.target.value)),m&&(m(e),console.log("handleBlur: onBlue",e.target.value))},"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-6 min-w-0 rounded-md border bg-transparent px-2 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-light disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),style:{width:g?"".concat(g,"px"):void 0},...d}),(0,i.jsx)("span",{ref:u,className:"invisible absolute whitespace-pre px-2.5 py-1 text-base md:text-sm",style:{fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit",position:"absolute",visibility:"hidden"},children:h||c||""})]})}var k=t(9708);let P=(0,t(2085).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function S(e){let{className:a,variant:t,size:n,asChild:s=!1,...o}=e,c=s?k.DX:"button";return(0,i.jsx)(c,{"data-slot":"button",className:(0,r.cn)(P({variant:t,size:n,className:a})),...o})}var M=t(4616),A=t(2525);function I(e){let{card:a,isVerbose:t,addCard:s}=e,[r,o]=(0,n.useState)(Array(a.argumentNames.length).fill("")),c=(e,a)=>{let t=[...r];t[e]=a,o(t)};return(0,i.jsxs)(f,{children:[(0,i.jsx)(y,{children:(0,i.jsx)(v,{children:(0,i.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[a.name,a.argumentNames.map((e,t)=>(0,i.jsx)(j,{placeholder:e,value:r[t],onChange:e=>c(t,e.target.value),onKeyDown:e=>{"Enter"===e.key&&(s(a.name,r),o(Array(a.argumentNames.length).fill("")))}},t))]}),(0,i.jsx)("div",{className:"ml-auto self-start",children:(0,i.jsx)(S,{variant:"outline",size:"icon",onClick:()=>{s(a.name,r),o(Array(a.argumentNames.length).fill(""))},children:(0,i.jsx)(M.A,{className:"w-4 h-4"})})})]})})}),t&&(0,i.jsx)(x,{children:(0,i.jsx)("div",{children:(0,i.jsx)("h3",{className:"text-sm font-light mb-2",children:a.description})})})]})}function F(e){var a;let{id:t,type:s,card:r,isVerbose:o,removeCard:c,updateArgs:l}=e,[m,d]=(0,n.useState)(r.arguments),u=(e,a)=>{let i=[...m];i[e]=a,d(i),l(t,i)};return(0,i.jsxs)(f,{children:[(0,i.jsx)(y,{children:(0,i.jsx)(v,{children:(0,i.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,i.jsxs)("div",{className:"flex flex-wrap items-center align-middle gap-2",children:["precondition"===s&&null!=(a=r.alias)?a:r.name,r.argumentNames.map((e,a)=>(0,i.jsx)(j,{placeholder:e,value:m[a],onChange:e=>u(a,e.target.value)},a))]}),(0,i.jsx)("div",{className:"ml-auto",children:(0,i.jsx)(S,{variant:"outline",size:"icon",onClick:()=>c(t),children:(0,i.jsx)(A.A,{className:"w-4 h-4"})})})]})})}),o&&(0,i.jsx)(x,{children:(0,i.jsx)("div",{children:(0,i.jsx)("h3",{className:"text-sm font-light mb-2",children:r.description})})})]})}let T=JSON.parse('[{"name":"a","argumentNames":["ambient light name"],"alias":null,"category":"World/Context","description":"Sets ambient lighting by name. Does not revert when the event ends."},{"name":"b","argumentNames":["weather"],"alias":null,"category":"World/Context","description":"Checks current weather. Valid values: \'rainy\', \'stormy\', \'snowy\', \'sunny\', \'windy\'. Append \' festival\' for festival version (this doesn\'t seem to work though)."},{"name":"d","argumentNames":["day of month"],"alias":null,"category":"World/Context","description":"Checks the current day of the month."},{"name":"e","argumentNames":["excluded days of week..."],"alias":"dayOfWeek","category":"World/Context","description":"Checks that the current day of the week is none of the specified days. argumentNames are space-separated day names (e.g., \'Mon\', \'Tue\')."},{"name":"t","argumentNames":["min time","max time"],"alias":null,"category":"World/Context","description":"Checks if the current time is within the specified range (inclusive)."},{"name":"w","argumentNames":["day of week"],"alias":null,"category":"World/Context","description":"Checks the current day of the week (\'Mon\', \'Tue\', \'Wed\', \'Thu\', \'Fri\', \'Sat\', \'Sun\')."},{"name":"y","argumentNames":["season"],"alias":null,"category":"World/Context","description":"Checks the current season (\'spring\', \'summer\', \'fall\', \'winter\')."},{"name":"c","argumentNames":["number of specific active quests"],"alias":null,"category":"Game state queries","description":"Checks number of active quests matching the specified ID."},{"name":"k","argumentNames":["event IDs to check..."],"alias":null,"category":"Game state queries","description":"Checks if any of the specified prerequisite event IDs have been seen."},{"name":"l","argumentNames":["letter received"],"alias":null,"category":"Game state queries","description":"Checks if the player has received the specified mail letter ID."},{"name":"m","argumentNames":["min money"],"alias":null,"category":"Game state queries","description":"Checks if the player has at least the specified amount of money."},{"name":"n","argumentNames":["NPC name"],"alias":null,"category":"Game state queries","description":"Checks if the specified NPC is present at the current location."},{"name":"o","argumentNames":["NPC name"],"alias":null,"category":"Game state queries","description":"Checks if the player\'s spouse is the specified NPC."},{"name":"p","argumentNames":["NPC name"],"alias":null,"category":"Game state queries","description":"Checks if the player has met the specified NPC."},{"name":"q","argumentNames":[],"alias":null,"category":"Game state queries","description":"Checks if the player is dating anyone."},{"name":"r","argumentNames":["random chance"],"alias":null,"category":"Game state queries","description":"Checks against a random chance (0 to 1 scale)."},{"name":"s","argumentNames":["min house upgrade level"],"alias":null,"category":"Game state queries","description":"Checks the player\'s house upgrade level (0=basic, 1=kitchen, 2=baby, 3=cellar)."},{"name":"u","argumentNames":["number of years"],"alias":null,"category":"Game state queries","description":"Checks the number of years passed."},{"name":"x","argumentNames":["event IDs to exclude..."],"alias":null,"category":"Game state queries","description":"Checks if none of the specified event IDs have been seen."},{"name":"z","argumentNames":[],"alias":null,"category":"Game state queries","description":"Checks if it\'s the player\'s first year."},{"name":"C","argumentNames":["NPC name","min hearts"],"alias":null,"category":"Game state queries","description":"Checks if the player has at least the minimum heart level with the specified NPC."},{"name":"F","argumentNames":[],"alias":null,"category":"Game state queries","description":"Checks if the player has seen the Community Center intro event."},{"name":"L","argumentNames":[],"alias":null,"category":"Game state queries","description":"Checks if the language is not English."},{"name":"N","argumentNames":["secret note ID"],"alias":null,"category":"Game state queries","description":"Checks if the player has found the specified secret note."},{"name":"O","argumentNames":["community center area ID"],"alias":null,"category":"Game state queries","description":"Checks if the specified Community Center area is complete (0=Pantry, 1=Crafts Room, 2=Fish Tank, 3=Boiler Room, 4=Vault, 5=Bulletin Board)."},{"name":"P","argumentNames":["pet name"],"alias":null,"category":"Game state queries","description":"Checks if the player\'s pet has the specified name."},{"name":"S","argumentNames":["skill name","min level"],"alias":null,"category":"Game state queries","description":"Checks if the player has reached the minimum level in the specified skill (Farming, Fishing, Foraging, Mining, Combat, Luck)."},{"name":"X","argumentNames":["event IDs..."],"alias":null,"category":"Game state queries","description":"Checks if the player has seen *all* of the specified event IDs."},{"name":"f","argumentNames":["farmer total hearts","number of farmers"],"alias":null,"category":"Current player","description":"Checks if the combined hearts of the specified number of farmers is equal or greater than the heart count."},{"name":"g","argumentNames":["gender"],"alias":null,"category":"Current player","description":"Checks the main player\'s gender. \'male\' or \'female\'."},{"name":"i","argumentNames":["item index"],"alias":null,"category":"Current player","description":"Checks if the player has the specified item in their inventory."},{"name":"h","argumentNames":[],"alias":null,"category":"Host player","description":"Checks if the player character is the host."},{"name":"H","argumentNames":[],"alias":null,"category":"Host player","description":"Checks if the player has a horse."},{"name":"j","argumentNames":["min players"],"alias":null,"category":"Host player","description":"Checks for a minimum number of players in the game session."}]'),D=T.reduce((e,a)=>(e[a.name]=a,e),{});function E(e){let{pId:a,setPId:t,preconditions:s,setPreconditions:r,isVerbose:o}=e,c=(e,i)=>{r([...s,{id:a,...D[e],arguments:i.map(e=>e.trim())}]),console.log(s),t(a+1)},[l,m]=(0,n.useState)(T),d=e=>{void 0!==e&&r(s.filter(a=>a.id!==e))},u=(e,a)=>{r(s.map(t=>t.id===e?{...t,arguments:a}:t))};return(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 h-[calc(100vh-250px)]",children:[(0,i.jsxs)(h,{className:"lg:col-span-1",children:[(0,i.jsx)(y,{children:(0,i.jsx)(v,{children:"Event Preconditions"})}),(0,i.jsxs)(x,{children:[(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsx)(w,{placeholder:"Search preconditions...",onChange:e=>{let a=e.target.value.toLowerCase();if(""===a)return void m(T);m(T.filter(e=>e.name.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)))}})}),(0,i.jsx)(b,{className:"h-[calc(100vh-300px)] overflow-y-auto",children:(0,i.jsx)("div",{className:"p-1 space-y-1",children:l.map(e=>(0,i.jsx)(I,{card:e,isVerbose:o,addCard:c},e.name))})})]})]}),(0,i.jsxs)(h,{className:"lg:col-span-3",children:[(0,i.jsx)(y,{children:(0,i.jsx)(v,{children:"Preconditions"})}),(0,i.jsx)(x,{children:(0,i.jsx)(b,{children:(0,i.jsx)("div",{className:"p-1 space-y-1",children:s.map(e=>(0,i.jsx)(F,{id:e.id,type:"precondition",card:e,isVerbose:o,removeCard:d,updateArgs:u},e.id))})})})]})]})}var _=t(7481),L=t(4357);let q=JSON.parse('[{"name":"addConversationTopic","argumentNames":["topic ID","duration"],"category":"Dialogue & Interaction","description":"Adds a conversation topic to the game for a number of days (default 1)."},{"name":"addFloorProp","argumentNames":["prop index","tileX","tileY"],"category":"World & Environment Modification","description":"Adds a floor prop object at the specified tile."},{"name":"addLargeTerrainFeature","argumentNames":["terrain feature index","tileX","tileY"],"category":"World & Environment Modification","description":"Adds a large terrain feature (like bushes) at the specified tile."},{"name":"addLantern","argumentNames":["index","tileX","tileY","held"],"category":"World & Environment Modification","description":"Adds a lantern light source."},{"name":"addMail","argumentNames":["mail ID","add tomorrrow? T/F","no letter? T/F"],"category":"Quests & Mail","description":"Adds mail to the player\'s mailbox."},{"name":"addMailReceived","argumentNames":["mail ID"],"category":"Quests & Mail","description":"Marks a mail ID as received (without sending mail)."},{"name":"addObject","argumentNames":["tileX","tileY","object index"],"category":"Items & Inventory","description":"Adds a world object at the specified tile."},{"name":"addQuest","argumentNames":["quest ID"],"category":"Quests & Mail","description":"Adds a quest to the player\'s journal."},{"name":"addTemporaryActor","argumentNames":["sprite name","sprite index X","sprite index Y","tileX","tileY","facing direction","is farmer? T/F","reflect? T/F","color"],"category":"Character & NPC Management","description":"Spawns a temporary actor/NPC for the event."},{"name":"addTerrainFeature","argumentNames":["terrain feature index","tileX","tileY"],"category":"World & Environment Modification","description":"Adds a terrain feature (like trees, flooring) at the specified tile."},{"name":"ambientLight","argumentNames":["R","G","B"],"category":"Visual & Audio Effects","description":"Sets the ambient light color."},{"name":"animate","argumentNames":["NPC name","start frame","end frame","duration","loop? T/F","flip? T/F"],"category":"Character & NPC Management","description":"Plays a specific animation sequence for an NPC."},{"name":"awardFestivalPrize","argumentNames":["player name"],"category":"Items & Inventory","description":"Gives the player the main prize for the current festival."},{"name":"beginSimultaneousCommand","argumentNames":[],"category":"Logic & Control Flow","description":"Starts a block where commands run simultaneously until endSimultaneousCommand."},{"name":"broadcast","argumentNames":["command"],"category":"Logic & Control Flow","description":"Sends a command to all other players in multiplayer."},{"name":"changeMapTile","argumentNames":["layer name","tileX","tileY","tile index"],"category":"World & Environment Modification","description":"Changes a tile on a specific map layer."},{"name":"changePortrait","argumentNames":["NPC name","portrait index"],"category":"Dialogue & Interaction","description":"Changes the portrait used by an NPC for dialogue."},{"name":"changeSprite","argumentNames":["NPC name","sprite index"],"category":"Character & NPC Management","description":"Changes the sprite index for an NPC."},{"name":"changeStat","argumentNames":["stat key","value"],"category":"Player State","description":"Changes a player stat."},{"name":"clearTempSprites","argumentNames":[],"category":"Character & NPC Management","description":"Removes all temporary sprites added by \'specificTemporarySprite\'."},{"name":"continue","argumentNames":[],"category":"Movement & Positioning","description":"Resumes NPC movement after a \'stop\' command."},{"name":"cutscene","argumentNames":["cutscene ID"],"category":"Logic & Control Flow","description":"Starts another cutscene event by ID."},{"name":"dayUpdate","argumentNames":["days offset"],"category":"World & Environment Modification","description":"Runs the daily update logic for the current location."},{"name":"debug","argumentNames":["command","args..."],"category":"Logic & Control Flow","description":"Executes a debug command."},{"name":"dialogue","argumentNames":["NPC name","dialogue key"],"category":"Dialogue & Interaction","description":"Shows dialogue from an NPC using a key from their dialogue file."},{"name":"doAction","argumentNames":["tileX","tileY"],"category":"Character & NPC Management","description":"Makes the farmer perform the action associated with the specified tile."},{"name":"drawOffset","argumentNames":["NPC name","X offset","Y offset"],"category":"Character & NPC Management","description":"Applies a drawing offset to an NPC."},{"name":"elliottbook","argumentNames":[],"category":"Special Actions","description":"Initiates Elliott\'s book reading/writing sequence."},{"name":"emote","argumentNames":["NPC name","emote index","duration","preceded by question? T/F"],"category":"Dialogue & Interaction","description":"Makes an NPC show an emote bubble."},{"name":"end","argumentNames":["remove festival props? T/F","return true? T/F","end warp"],"category":"Logic & Control Flow","description":"Ends the current event."},{"name":"endBehavior","argumentNames":["NPC name"],"category":"Character & NPC Management","description":"Seems related to ending specific NPC behaviors or states initiated by the event."},{"name":"endDialogue","argumentNames":["NPC name"],"category":"Dialogue & Interaction","description":"Closes the dialogue box for the specified NPC."},{"name":"endSimultaneousCommand","argumentNames":[],"category":"Logic & Control Flow","description":"Ends a block of simultaneous commands."},{"name":"event","argumentNames":["event ID"],"category":"Logic & Control Flow","description":"Starts another event by ID."},{"name":"faceDirection","argumentNames":["NPC name","direction","times to try"],"category":"Character & NPC Management","description":"Makes an NPC face a specific direction (0=up, 1=right, 2=down, 3=left)."},{"name":"fadeIn","argumentNames":["duration"],"category":"Visual & Audio Effects","description":"Fades the screen in from black."},{"name":"fadeOut","argumentNames":["duration"],"category":"Visual & Audio Effects","description":"Fades the screen out to black."},{"name":"farmer","argumentNames":["sprite index X","sprite index Y","tileX","tileY","facing direction"],"category":"Player State","description":"Warps the farmer and sets their sprite/facing direction."},{"name":"farmerAnimation","argumentNames":["animation ID"],"category":"Player State","description":"Plays a specific farmer animation."},{"name":"farmerEat","argumentNames":["object index"],"category":"Player State","description":"Makes the farmer eat the specified item."},{"name":"farmerMotion","argumentNames":["motion index"],"category":"Player State","description":"Sets the farmer\'s sprite to a specific motion frame."},{"name":"farmerSit","argumentNames":["tileX","tileY"],"category":"Player State","description":"Makes the farmer sit down."},{"name":"fade","argumentNames":["duration","fade to black? T/F"],"category":"Visual & Audio Effects","description":"Fades the screen (defaults to fade out)."},{"name":"festivalDialogue","argumentNames":["dialogue key"],"category":"Dialogue & Interaction","description":"Shows dialogue using a key from the current festival\'s dialogue file."},{"name":"finish","argumentNames":[],"category":"Logic & Control Flow","description":"Marks the event as finished (similar to \'end\' but might have subtle differences)."},{"name":"fishing","argumentNames":["NPC name"],"category":"Special Actions","description":"Makes an NPC start fishing."},{"name":"fork","argumentNames":["event ID"],"category":"Logic & Control Flow","description":"Starts a parallel event that runs alongside the current one."},{"name":"friendship","argumentNames":["NPC name","points"],"category":"Relationships","description":"Adds or removes friendship points with an NPC."},{"name":"globalFade","argumentNames":["speed"],"category":"Visual & Audio Effects","description":"Globally fades the screen to black."},{"name":"globalFadeToClear","argumentNames":["speed"],"category":"Visual & Audio Effects","description":"Globally fades the screen back to clear."},{"name":"glow","argumentNames":["NPC name","R","G","B","hold? T/F"],"category":"Visual & Audio Effects","description":"Makes an NPC glow with a specific color."},{"name":"grabObject","argumentNames":["NPC name","object index","grab frame offset"],"category":"Items & Inventory","description":"Makes an NPC pick up an object."},{"name":"grandpa","argumentNames":[],"category":"Special Actions","description":"Initiates Grandpa\'s evaluation sequence."},{"name":"halt","argumentNames":[],"category":"Logic & Control Flow","description":"Stops all character movement and the camera."},{"name":"harvey","argumentNames":["NPC name","dialogue key"],"category":"Special Actions","description":"Seems specific to a Harvey event sequence, possibly involving dialogue."},{"name":"holdUpItem","argumentNames":["NPC name","item index"],"category":"Items & Inventory","description":"Makes an NPC hold up an item."},{"name":"hospital","argumentNames":["NPC name"],"category":"Special Actions","description":"Puts the specified NPC in the hospital bed."},{"name":"ignoreMovementPause","argumentNames":[],"category":"Movement & Positioning","description":"Allows NPC movement commands to continue even if the event is paused."},{"name":"ignoreWeddings","argumentNames":[],"category":"Logic & Control Flow","description":"Likely prevents wedding events from triggering during this event."},{"name":"itemAboveHead","argumentNames":["NPC name","item index","duration"],"category":"Items & Inventory","description":"Shows an item bouncing above an NPC\'s head."},{"name":"jump","argumentNames":["NPC name","jump velocity"],"category":"Movement & Positioning","description":"Makes an NPC jump."},{"name":"loadActors","argumentNames":[],"category":"Character & NPC Management","description":"Loads standard actors/NPCs for the current location."},{"name":"lockDoor","argumentNames":["tileX","tileY"],"category":"World & Environment Modification","description":"Locks a door tile."},{"name":"mailReceive","argumentNames":["mail ID"],"category":"Quests & Mail","description":"Adds a mail ID to the player\'s received letters."},{"name":"makeInvisible","argumentNames":["tileX","tileY","width","height","local only? T/F"],"category":"World & Environment Modification","description":"Makes a rectangular area of the map invisible."},{"name":"message","argumentNames":["message text"],"category":"Dialogue & Interaction","description":"Shows a simple message box with the specified text."},{"name":"minedeath","argumentNames":[],"category":"Special Actions","description":"Triggers the mine death sequence."},{"name":"money","argumentNames":["amount","absolute? T/F"],"category":"Player State","description":"Adds/removes money (or sets absolute amount)."},{"name":"monsters","argumentNames":["monster names..."],"category":"Character & NPC Management","description":"Spawns specified monsters."},{"name":"move","argumentNames":["NPC name","x steps","y steps","facing direction","queued? T/F","continue? T/F"],"category":"Movement & Positioning","description":"Moves an NPC a number of tiles."},{"name":"name","argumentNames":[],"category":"Special Actions","description":"Likely related to naming something (pet? child?)."},{"name":"noresponse","argumentNames":["NPC name"],"category":"Dialogue & Interaction","description":"Prevents an NPC from responding to clicks/interaction."},{"name":"npc","argumentNames":["NPC name","sprite index X","sprite index Y","tileX","tileY","facing direction"],"category":"Character & NPC Management","description":"Adds or repositions an NPC for the event."},{"name":"offset","argumentNames":["NPC name","x offset","y offset"],"category":"Movement & Positioning","description":"Applies a temporary positional offset to an NPC."},{"name":"pause","argumentNames":["milliseconds"],"category":"Logic & Control Flow","description":"Pauses the event for a duration."},{"name":"perfectDeity","argumentNames":[],"category":"Special Actions","description":"Initiates the Statue of Perfection sequence."},{"name":"playSound","argumentNames":["sound ID"],"category":"Visual & Audio Effects","description":"Plays a sound effect by ID."},{"name":"position","argumentNames":["NPC name","tileX","tileY"],"category":"Movement & Positioning","description":"Instantly sets an NPC\'s tile position."},{"name":"positionOffset","argumentNames":["NPC name","x offset","y offset"],"category":"Movement & Positioning","description":"Applies a persistent positional offset to an NPC (differs from \'offset\'?)."},{"name":"proceed","argumentNames":[],"category":"Movement & Positioning","description":"Allows a halted character (usually the farmer) to move again."},{"name":"question","argumentNames":["question ID","question text with responses"],"category":"Dialogue & Interaction","description":"Shows a question dialogue box with multiple choice answers."},{"name":"quit","argumentNames":[],"category":"Logic & Control Flow","description":"Immediately exits the event (force quit?)."},{"name":"removeFloorProp","argumentNames":["tileX","tileY"],"category":"World & Environment Modification","description":"Removes a floor prop at the specified tile."},{"name":"removeItem","argumentNames":["item index","amount"],"category":"Items & Inventory","description":"Removes an item from the player\'s inventory."},{"name":"removeLargeTerrainFeature","argumentNames":["tileX","tileY"],"category":"World & Environment Modification","description":"Removes a large terrain feature at the specified tile."},{"name":"removeObject","argumentNames":["tileX","tileY"],"category":"World & Environment Modification","description":"Removes a world object at the specified tile."},{"name":"removeQuest","argumentNames":["quest ID"],"category":"Quests & Mail","description":"Removes a quest from the player\'s journal."},{"name":"removeSprite","argumentNames":["NPC name"],"category":"Character & NPC Management","description":"Removes an NPC/actor from the event."},{"name":"removeTemporaryActor","argumentNames":["sprite name"],"category":"Character & NPC Management","description":"Removes a temporary actor added by \'addTemporaryActor\'."},{"name":"removeTerrainFeature","argumentNames":["tileX","tileY"],"category":"World & Environment Modification","description":"Removes a terrain feature at the specified tile."},{"name":"removeTile","argumentNames":["tileX","tileY","layer name"],"category":"World & Environment Modification","description":"Removes a tile from a specific map layer."},{"name":"rename","argumentNames":["NPC name","new name"],"category":"Character & NPC Management","description":"Temporarily renames an NPC for the event."},{"name":"resetVariable","argumentNames":["NPC name"],"category":"Logic & Control Flow","description":"Purpose unclear, likely resets some internal state for an NPC."},{"name":"restore","argumentNames":[],"category":"Logic & Control Flow","description":"Likely restores some game state previously modified by the event."},{"name":"screenFlash","argumentNames":["R","G","B","A","hold? T/F"],"category":"Visual & Audio Effects","description":"Flashes the screen with a specified color and alpha."},{"name":"script","argumentNames":["script ID"],"category":"Logic & Control Flow","description":"Executes an event script (seems internal or deprecated)."},{"name":"secretNote","argumentNames":["note ID"],"category":"Special Actions","description":"Shows a specific secret note."},{"name":"seen","argumentNames":["event ID"],"category":"Logic & Control Flow","description":"Marks an event ID as seen by the player."},{"name":"setRunning","argumentNames":["NPC name","isRunning? T/F"],"category":"Character & NPC Management","description":"Sets the running state for an NPC (or farmer if name omitted)."},{"name":"setvisible","argumentNames":["tileX","tileY"],"category":"World & Environment Modification","description":"Makes an invisible tile visible again."},{"name":"shake","argumentNames":["NPC name","milliseconds"],"category":"Visual & Audio Effects","description":"Makes an NPC\'s sprite shake."},{"name":"showFrame","argumentNames":["NPC name","frame index","hold? T/F"],"category":"Character & NPC Management","description":"Sets an NPC\'s sprite to a specific animation frame."},{"name":"showItems","argumentNames":[],"category":"Items & Inventory","description":"Purpose unclear, possibly related to displaying items in a shop or festival context."},{"name":"showKiss","argumentNames":["NPC name","show heart? T/F"],"category":"Relationships","description":"Shows the kissing animation with the specified NPC."},{"name":"showToolUpgrade","argumentNames":["tool name"],"category":"Special Actions","description":"Shows the tool upgrade animation for the specified tool."},{"name":"shuffleMine","argumentNames":["mine level"],"category":"World & Environment Modification","description":"Resets/shuffles a specific mine level."},{"name":"sit","argumentNames":["NPC name","tileX","tileY","direction"],"category":"Character & NPC Management","description":"Makes an NPC sit down (optionally at a specific location)."},{"name":"skippable","argumentNames":[],"category":"Logic & Control Flow","description":"Makes the current event skippable."},{"name":"playSound","argumentNames":["sound ID","local only? T/F"],"category":"Visual & Audio Effects","description":"Plays a sound effect, optionally only for the local player."},{"name":"speak","argumentNames":["NPC name","dialogue text"],"category":"Dialogue & Interaction","description":"Shows dialogue spoken by an NPC using the provided text directly."},{"name":"specificTemporarySprite","argumentNames":["sprite key","tileX","tileY","alpha fade? T/F","flip? T/F","depth","interval","shake intensity","shake speed","loops","hold last frame? T/F"],"category":"Visual & Audio Effects","description":"Adds a temporary animated sprite effect (like explosions, sparkles)."},{"name":"speed","argumentNames":["NPC name","speed value"],"category":"Movement & Positioning","description":"Sets the movement speed for an NPC."},{"name":"stop","argumentNames":[],"category":"Movement & Positioning","description":"Stops the movement of the NPC specified in the last \'move\' command."},{"name":"stopAdvancedMoves","argumentNames":[],"category":"Movement & Positioning","description":"Stops complex movement sequences (details unclear)."},{"name":"stopAnimation","argumentNames":["NPC name","frame index"],"category":"Character & NPC Management","description":"Stops the current animation for an NPC, optionally setting a final frame."},{"name":"stopBaby","argumentNames":["crib spot index"],"category":"Special Actions","description":"Stops the baby animation/state."},{"name":"stopFishing","argumentNames":["NPC name"],"category":"Special Actions","description":"Makes an NPC stop fishing."},{"name":"stopMusic","argumentNames":[],"category":"Visual & Audio Effects","description":"Stops the currently playing music."},{"name":"switchEvent","argumentNames":["event ID"],"category":"Logic & Control Flow","description":"Switches to a different event immediately."},{"name":"temporaryAnimatedSprite","argumentNames":["sprite index","duration","loops","tileX","tileY","color R","color G","color B","flicker? T/F","big? T/F","flip? T/F","layer depth","alpha fade","scale","interval","motion X","motion Y","shake intensity","dialogue key","sound key"],"category":"Visual & Audio Effects","description":"Adds a temporary animated sprite effect with many customization options."},{"name":"textAboveHead","argumentNames":["NPC name","text","duration"],"category":"Dialogue & Interaction","description":"Shows text in a bubble above an NPC\'s head."},{"name":"time","argumentNames":["time"],"category":"World & Environment Modification","description":"Sets the current time of day."},{"name":"toss","argumentNames":["NPC name","tileX","tileY","arc height"],"category":"Movement & Positioning","description":"Makes an NPC appear to be tossed towards a tile."},{"name":"unlockDoor","argumentNames":["tileX","tileY"],"category":"World & Environment Modification","description":"Unlocks a door tile."},{"name":"up","argumentNames":[],"category":"Player State","description":"Likely related to making the farmer stand up if sitting."},{"name":"viewport","argumentNames":["tileX","tileY","speed","makeGlobal? T/F"],"category":"Visual & Audio Effects","description":"Moves the camera viewport to center on a specific tile."},{"name":"viewportFreeze","argumentNames":[],"category":"Visual & Audio Effects","description":"Freezes the camera viewport in its current position."},{"name":"waitFor","argumentNames":["command type","extra args..."],"category":"Logic & Control Flow","description":"Pauses the event until a specific condition is met (e.g., \'waitFor Mover\', \'waitFor TemporarySprite\')."},{"name":"waitForOtherPlayers","argumentNames":[],"category":"Logic & Control Flow","description":"Pauses the event until all players reach this command."},{"name":"warp","argumentNames":["NPC name","tileX","tileY"],"category":"Movement & Positioning","description":"Instantly warps an NPC to a specific tile."},{"name":"warpFarmer","argumentNames":["location name","tileX","tileY","facing direction"],"category":"Movement & Positioning","description":"Warps the farmer to a new location and tile."},{"name":"wedding","argumentNames":["NPC name"],"category":"Special Actions","description":"Initiates the wedding ceremony."},{"name":"witch","argumentNames":[],"category":"Special Actions","description":"Initiates the witch event sequence."}]');var z=t(6241),X=t(6474),V=t(5196),W=t(7863);function Y(e){let{...a}=e;return(0,i.jsx)(z.bL,{"data-slot":"select",...a})}function O(e){let{...a}=e;return(0,i.jsx)(z.WT,{"data-slot":"select-value",...a})}function G(e){let{className:a,size:t="default",children:n,...s}=e;return(0,i.jsxs)(z.l9,{"data-slot":"select-trigger","data-size":t,className:(0,r.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...s,children:[n,(0,i.jsx)(z.In,{asChild:!0,children:(0,i.jsx)(X.A,{className:"size-4 opacity-50"})})]})}function R(e){let{className:a,children:t,position:n="popper",...s}=e;return(0,i.jsx)(z.ZL,{children:(0,i.jsxs)(z.UC,{"data-slot":"select-content",className:(0,r.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...s,children:[(0,i.jsx)(U,{}),(0,i.jsx)(z.LM,{className:(0,r.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,i.jsx)(Q,{})]})})}function B(e){let{className:a,children:t,...n}=e;return(0,i.jsxs)(z.q7,{"data-slot":"select-item",className:(0,r.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),...n,children:[(0,i.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,i.jsx)(z.VF,{children:(0,i.jsx)(V.A,{className:"size-4"})})}),(0,i.jsx)(z.p4,{children:t})]})}function U(e){let{className:a,...t}=e;return(0,i.jsx)(z.PP,{"data-slot":"select-scroll-up-button",className:(0,r.cn)("flex cursor-default items-center justify-center py-1",a),...t,children:(0,i.jsx)(W.A,{className:"size-4"})})}function Q(e){let{className:a,...t}=e;return(0,i.jsx)(z.wn,{"data-slot":"select-scroll-down-button",className:(0,r.cn)("flex cursor-default items-center justify-center py-1",a),...t,children:(0,i.jsx)(X.A,{className:"size-4"})})}function H(e){let{id:a,characterPosition:t,removeCard:n,updateArgs:s}=e,r=(e,i)=>{s(a,{...t,characterId:0===e?i:t.characterId,x:1===e?Number(i):t.x,y:2===e?Number(i):t.y,direction:3===e?Number(i):t.direction})};return(0,i.jsx)(f,{children:(0,i.jsx)(y,{children:(0,i.jsx)(v,{children:(0,i.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full max-w-[90vw] sm:max-w-[500px]",children:[(0,i.jsxs)("div",{className:"flex flex-wrap items-center align-middle gap-2 min-w-0 flex-1",children:[(0,i.jsx)(j,{placeholder:"character id",value:t.characterId,onChange:e=>r(0,e.target.value),className:"max-w-[10vw] sm:max-w-[17vw]"}),(0,i.jsx)(j,{placeholder:"x",value:t.x.toString(),onChange:e=>r(1,e.target.value),className:"max-w-[10vw] sm:max-w-[17vw]"}),(0,i.jsx)(j,{placeholder:"y",value:t.y.toString(),onChange:e=>r(2,e.target.value),className:"max-w-[10vw] sm:max-w-[17vw]"}),(0,i.jsx)(j,{placeholder:"direction",value:t.direction.toString(),onChange:e=>r(3,e.target.value),className:"max-w-[10vw] sm:max-w-[17vw]"})]}),(0,i.jsx)("div",{className:"ml-auto flex-shrink-0",children:(0,i.jsx)(S,{variant:"outline",size:"icon",onClick:()=>n(a),children:(0,i.jsx)(A.A,{className:"w-4 h-4"})})})]})})})})}let J=["50s","AbigailFlute","AbigailFluteDuet","aerobics","archaeo","bigDrums","breezy","caldera","Cavern","christmasTheme","Cloth","CloudCountry","clubloop","cowboy_boss","cowboy_outlawsong","Cowboy_OVERWORLD","Cowboy_singing","Cowboy_undead","crane_game","crane_game_fast","fall3","fallFest","libraryTheme","MainTheme","Majestic","sam_acoustic1","sam_acoustic2","sampractice","spirits_eve","spring1","spring2","sweet","tickTock","tinymusicbox","title_night","tribal","Tropical Jam","ocean","ocean waves","pool_ambient","rain","roadnoise","spring_day_ambient","spring_night_ambient","summer_day_ambient","tropical_island_day_ambient","Upper_Ambient","Volcano_Ambient","waterfall","waterfall_big","wind","winter_day_ambient","custom"];function K(e){let{setStarterCommands:a,starterCommands:t}=e,[s,r]=(0,n.useState)(J[0]),[o,c]=(0,n.useState)(""),[l,m]=(0,n.useState)({x:0,y:0}),[d,g]=(0,n.useState)([{characterId:"farmer",x:0,y:0,direction:0}]),p=e=>{m(e),a({...t,coordinates:e})},h=e=>{g(d.filter((a,t)=>t!==e)),a({...t,characterPositions:d})},f=(e,i)=>{let n=d.map((a,t)=>t===e?{...a,...i}:a);g(n),a({...t,characterPositions:n}),console.log("character updated",i,d,t)};return(0,i.jsx)(b,{className:"h-[calc(100vh-300px)] overflow-y-auto",children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Music"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(Y,{value:s,onValueChange:e=>{r(e),a({...t,music:e})},children:[(0,i.jsx)(G,{className:"w-full",children:(0,i.jsx)(O,{placeholder:"Select music..."})}),(0,i.jsx)(R,{children:J.map(e=>(0,i.jsx)(B,{value:e,children:e},e))})]}),"custom"===s&&(0,i.jsx)(j,{placeholder:"Enter custom music...",value:o,onChange:e=>c(e.target.value),className:"w-full"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Camera Coordinates"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(u,{children:"x: "}),(0,i.jsx)(j,{type:"number",placeholder:"x",spanOffset:10,value:l.x,onChange:e=>p({...l,x:Number(e.target.value)})})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(u,{children:"y: "}),(0,i.jsx)(j,{type:"number",placeholder:"y",spanOffset:10,value:l.y,onChange:e=>p({...l,y:Number(e.target.value)})})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[(0,i.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Character Definitions"}),(0,i.jsx)(S,{onClick:()=>{g([...d,{characterId:"",x:0,y:0,direction:0}]),a({...t,characterPositions:d})},className:"mt-2",variant:"outline",children:(0,i.jsx)(M.A,{className:"w-4 h-4"})})]}),(0,i.jsx)("div",{className:"p-1 space-y-1.5",children:d.map((e,a)=>(0,i.jsx)(H,{id:a,characterPosition:e,removeCard:h,updateArgs:f},a))})]})]})})}let Z=q.reduce((e,a)=>(e[a.name]=a,e),{});function $(e){let{setStarterCommands:a,preconditions:t,starterCommands:s,commands:r,setCommands:o,isVerbose:c,cId:l,setCId:m}=e,{toast:d}=(0,_.dj)(),[g,f]=(0,n.useState)(!1),[N,C]=(0,n.useState)(q),j=(e,a)=>{o([...r,{id:l,...Z[e],arguments:a.map(e=>e.trim())}]),m(l+1)},k=e=>{void 0!==e&&o(r.filter(a=>a.id!==e))},P=(e,a)=>{o(r.map(t=>t.id===e?{...t,arguments:a}:t))},M=t.map(e=>e.name+" "+e.arguments.join(" ")).join("/"),A=s.music+"/"+s.coordinates.x+"/"+s.coordinates.y+"/"+s.characterPositions.map(e=>e.characterId+" "+e.x+" "+e.y+" "+e.direction),T=r.map(e=>e.name+" "+e.arguments.join(" ")).join("/");return(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-[calc(100vh-250px)]",children:[(0,i.jsxs)(h,{className:"h-full",children:[(0,i.jsx)(y,{children:(0,i.jsx)(v,{children:"Commands"})}),(0,i.jsxs)(x,{children:[(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsx)(w,{placeholder:"Search event commands...",onChange:e=>{let a=e.target.value.toLowerCase();if(""===a)return void C(q);C(q.filter(e=>e.name.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)))}})}),(0,i.jsx)(b,{className:"h-[calc(100vh-300px)] overflow-y-auto",children:(0,i.jsx)("div",{className:"p-1 space-y-1",children:N.map((e,a)=>(0,i.jsx)(I,{card:e,isVerbose:c,addCard:j},a))})})]})]}),(0,i.jsxs)(h,{className:"h-full",children:[(0,i.jsxs)(y,{className:"flex flex-row items-center justify-between",children:[(0,i.jsx)(v,{children:"Script"}),(0,i.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,i.jsx)(p,{id:"script-as-block-or-string-switch",checked:g,onCheckedChange:f}),(0,i.jsx)(u,{htmlFor:"script-as-block-or-string-switch",children:"Show script preview"})]})]}),(0,i.jsxs)(x,{children:[g&&(0,i.jsx)("div",{className:"flex justify-end mb-2",children:(0,i.jsxs)(S,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(M+": "+A+"/"+T),d({title:"Copied to clipboard"})},children:[(0,i.jsx)(L.A,{className:"h-4 w-4 mr-2"}),"Copy Script"]})}),(0,i.jsx)(b,{className:"h-[calc(100vh-300px)] overflow-y-auto",children:g?(0,i.jsx)("div",{className:"bg-slate-100 dark:bg-slate-800 p-3 rounded min-h-full font-mono text-sm",children:(0,i.jsx)("pre",{className:"whitespace-pre-wrap",children:M+": "+A+"/"+T})}):(0,i.jsx)("div",{className:"p-1 space-y-1",children:r.map(e=>(0,i.jsx)(F,{id:e.id,type:"event",card:e,isVerbose:c,removeCard:k,updateArgs:P},e.id))})})]})]}),(0,i.jsxs)(h,{className:"h-full",children:[(0,i.jsx)(y,{children:(0,i.jsx)(v,{children:"Properties"})}),(0,i.jsx)(x,{className:"h-[calc(100%-60px)] overflow-y-auto",children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Preview"}),(0,i.jsx)("div",{className:"bg-slate-200 dark:bg-slate-900 rounded aspect-video flex items-center justify-center text-sm text-slate-500",children:"Preview will appear here"})]}),(0,i.jsx)(K,{setStarterCommands:a,starterCommands:s})]})})]})]})}function ee(){let[e,a]=(0,n.useState)({music:"",coordinates:{x:0,y:0},characterPositions:[]}),[t,s]=(0,n.useState)([]),[r,d]=(0,n.useState)([]),[g,h]=(0,n.useState)(!1),[f,y]=(0,n.useState)(0),[v,x]=(0,n.useState)(0);return(0,i.jsxs)("div",{className:"container mx-auto py-8",children:[(0,i.jsxs)("header",{className:"mb-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-amber-600",children:"Event Editor"}),(0,i.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,i.jsx)(u,{htmlFor:"verbose-switch",children:"Show description"}),(0,i.jsx)(p,{id:"verbose-switch",checked:g,onCheckedChange:h})]})]}),(0,i.jsx)("p",{className:"text-gray-500 mt-1",children:"Edit your event details, preconditions, and script"})]}),(0,i.jsxs)(o,{defaultValue:"preconditions",className:"w-full",children:[(0,i.jsxs)(c,{className:"grid w-full grid-cols-2 mb-6",children:[(0,i.jsx)(l,{value:"preconditions",children:"Preconditions"}),(0,i.jsx)(l,{value:"script",children:"Script"})]}),(0,i.jsx)(m,{value:"preconditions",children:(0,i.jsx)(E,{pId:f,setPId:y,preconditions:t,setPreconditions:s,isVerbose:g})}),(0,i.jsx)(m,{value:"script",children:(0,i.jsx)($,{setStarterCommands:a,preconditions:t,starterCommands:e,commands:r,setCommands:d,isVerbose:g,cId:v,setCId:x})})]})]})}},7481:(e,a,t)=>{"use strict";t.d(a,{dj:()=>u});var i=t(2115);let n=0,s=new Map,r=e=>{if(s.has(e))return;let a=setTimeout(()=>{s.delete(e),m({type:"REMOVE_TOAST",toastId:e})},500);s.set(e,a)},o=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?r(t):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},c=[],l={toasts:[]};function m(e){l=o(l,e),c.forEach(e=>{e(l)})}function d(e){let{...a}=e,t=(n=(n+1)%Number.MAX_VALUE).toString(),i=()=>m({type:"DISMISS_TOAST",toastId:t});return m({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||i()}}}),{id:t,dismiss:i,update:e=>m({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,a]=i.useState(l);return i.useEffect(()=>(c.push(a),()=>{let e=c.indexOf(a);e>-1&&c.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>m({type:"DISMISS_TOAST",toastId:e})}}},8986:(e,a,t)=>{Promise.resolve().then(t.bind(t,6982))},9434:(e,a,t)=>{"use strict";t.d(a,{cn:()=>s});var i=t(2596),n=t(9688);function s(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,n.QP)((0,i.$)(a))}}},e=>{var a=a=>e(e.s=a);e.O(0,[809,805,441,684,358],()=>a(8986)),_N_E=e.O()}]);